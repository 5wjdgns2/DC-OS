컨트롤 플레인 노드
최소한 세 개의 제어 평면 노드가 있어야합니다.

작업자 노드
최소한 네 개의 작업자 노드가 있어야합니다. 환경에 필요한 특정 작업자 노드 수는 클러스터 워크로드 및 노드 크기에 따라 달라질 수 있습니다.


배포 서버 필요사항

Docker 18.09.2 이상 (Nvidia 때문에 19버전 추천)

kubectl 1.15.5 이상



노드 마다 최소 필요사항

8core , 16G 메모리

- CentOS 7.6
- 방화벽이 비활성화
- 컨테이너가 제거
- Docker-ce가 제거
- 스왑이 비활성화




Konvoy install online

1.konvoy bootstrap

*docker 설치 (https://docs.docker.com/engine/install/centos/)

----

*kubectl CLI설치
curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
chmod +x ./kubectl
sudo mv ./kubectl /usr/local/bin/kubectl
kubectl version --client

----

*방화벽 비활성화
systemctl stop firewalld && systemctl disable firewalld

----

*스왑 비활성화
vi /etc/fstab 
swap 주석처리

----

*konvoy CLI 파일 다운 후 추출
tar -xf konvoy_v0.x.x_linux.tar.bz2

----

*바이너리 PATH아래로 이동
mv ./konvoy_v0.x.0/* / usr / local / bin /

----

*konvoy 버전확인
konvoy version // 이때 konvoy명령 실행위해서 필요한 이미지를 가져옴

----

*cluster.yaml,inventory.yaml 파일 생성
mkdir konvoy-deploy
cd konvoy-deploy
konvoy init --provisioner=none --cluster-name konvoytest
여기까지하면 cluster.yaml,inventory.yaml 자동으로 생성

----
